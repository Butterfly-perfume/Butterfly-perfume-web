<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout - Butterfly Perfume</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<main class="checkout-page">
    <div id="l" style="margin-left: 1cm;">
        <div>
            <label>Customer Name:</label>  
            <input type="text" class="f2">
            <label>Customer Phone:</label> 
            <input type="text" class="f2">
        </div>
        <div class="m-r">
            <label>Date Left:</label>  
            <input type="date" class="f2">
            <label class="m3">Time Left:</label>   
            <input type="time" class="f2">
        </div>
        <div class="m1">
            <label>Date Expected:</label>  
            <input type="date" class="f2"> 
            <label class="m2">Time Expected:</label>   
            <input type="time" class="f2">
        </div>
    </div>
    <hr style="margin-right:34.5cm;">

    <div class="d-flex">
        <form onsubmit="return false;">
            <table>
                <tbody>
                    <tr>
                        <td>Dream Blossom Perfume -</td>
                        <td class="price" data-index="1">100.00</td>
                        <td><input type="number" class="quantity" value="0"></td>
                        <td><button onclick="calculateSubtotal(1, this)">Calc</button></td>
                        <td><span class="subtotal1">0.00</span></td>
                    </tr>
                    <tr>
                        <td>Pink Fantasy -</td>
                        <td class="price" data-index="2">150.00</td>
                        <td><input type="number" class="quantity" value="0"></td>
                        <td><button onclick="calculateSubtotal(2, this)">Calc</button></td>
                        <td><span class="subtotal2">0.00</span></td>
                    </tr>
                    <tr>
                        <td>Floral Wish -</td>
                        <td class="price" data-index="3">200.00</td>
                        <td><input type="number" class="quantity" value="0"></td>
                        <td><button onclick="calculateSubtotal(3, this)">Calc</button></td>
                        <td><span class="subtotal3">0.00</span></td>
                    </tr>
                </tbody>
            </table>

            <div id="l" style="text-align: center; margin-top: 20px;">
                <button onclick="calculateorder()">Calculate Order</button><br>
                <label class="cleaningtotal">cleaning total: 0.00</label><br>
                <label class="taxrate">tax rate: 5.75%</label><br>
                <label class="taxamount">tax amount: 0.00</label><br>
                <label class="ordertotal">order total: 0.00</label><br>
                            <button onclick="checkout()">Checkout</button><br>
<p id="checkout-message" style="color: green; font-weight: bold; display: none; margin-top: 10px;"></p>
            </div>
            

        </form>
        

    </div>
</main>

<script>
    function calculateSubtotal(index, button) {
        event.preventDefault(); // prevent form from submitting
        var row = button.parentNode.parentNode;
        var quantity = parseInt(row.querySelector('.quantity').value) || 0;
        var price = parseFloat(row.querySelector('.price').textContent);
        var subtotal = quantity * price;

        row.querySelector('.subtotal' + index).textContent = subtotal.toFixed(2);
    }

    function calculateorder() {
        var subtotal1 = parseFloat(document.querySelector('.subtotal1').textContent) || 0;
        var subtotal2 = parseFloat(document.querySelector('.subtotal2').textContent) || 0;
        var subtotal3 = parseFloat(document.querySelector('.subtotal3').textContent) || 0;
        var cleaningtotal = subtotal1 + subtotal2 + subtotal3;

        var taxrate = parseFloat(document.querySelector('.taxrate').textContent.match(/\d+\.\d+/)) / 100 || 0;
        var taxamount = cleaningtotal * taxrate;
        var ordertotal = cleaningtotal + taxamount;

        document.querySelector('.cleaningtotal').textContent = 'cleaning total: ' + cleaningtotal.toFixed(2);
        document.querySelector('.taxamount').textContent = 'tax amount: ' + taxamount.toFixed(2);
        document.querySelector('.ordertotal').textContent = 'order total: ' + ordertotal.toFixed(2);
    }
    function checkout() {

    // Show a success message
    var messageElement = document.getElementById("checkout-message");
    messageElement.textContent = "âœ… Checkout successful! Thank you for your order.";
    messageElement.style.display = "block";}

</script>
</body>
</html>
